<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>타이머게임</title>
    <!-- 8월 16일 타이머게임 만들기-->



    <style>
        .container {
            width: 400px;
            height: 400px;

            border: 1px solid black;
            display: flex;
            justify-content: center;
            align-items: center;

            /* 화면 중앙정렬 */
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }




    </style>
</head>

<body>
    <div class="container" onclick="f_click()">
        <h1 id="count">0</h1>
    </div>





    <script>
        const v_count = document.getElementById("count");

        // 변수 선언
        let correctTime;
        let clickTime;
        let v_sec = 0;

        function f_count(){
            // 5초 이후부터는 카운터를 안보여줌(?로 표기)
            v_sec++;

            if(v_sec < 6) {
                // 화면에 숫자 카운트 설정 및 문자열을 숫자로 바꿔주기
                v_count.innerHTML = parseInt(v_count.innerHTML) + 1;
            } else {
                v_count.innerHTML = "?";
            }

            // 15초후에 정확한 시간 표시
            if(v_sec == 15){
                correctTime = new Date();
            }

            // 18초가 흐른 후 두시간의 차이를 계산후 결과 확인 및 반복종료
            if(v_sec == 18){
                // 자바 스크립트에서는 Date 객체간 연산이 가능하다.
                let v_diff = clickTime - correctTime;
                // 두 Date 객체간 밀리초 사이결과 확인
                console.log(v_diff);

                // 일찍누르면 음수, 늦게 나오면 양수로 표기 및 무한반복 멈춤 설정
                v_count.innerHTML = (v_diff/1000) + "초 차이";
                return;
            }
            
            // 1초마다 무한 반복
            setTimeout(f_count, 1000);
        }

        setTimeout(f_count, 1000);

        // 클릭한 시점에 시간을 얻기(표시)
        function f_click(){
            clickTime = new Date();

            // 클릭했을때 클릭했다는 이펙트 표시
            document.getElementsByClassName("container")[0].style.backgroundColor = "red";
        }

        



    </script>
</body>

</html>